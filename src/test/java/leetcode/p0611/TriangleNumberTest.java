package leetcode.p0611;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.Arguments;
import org.junit.jupiter.params.provider.MethodSource;

import java.util.stream.Stream;

import static org.assertj.core.api.Assertions.assertThat;

class TriangleNumberTest {

    private Solution.V2 v2;
    private Solution.V1 v1;

    @BeforeEach
    public void setUp() {
        v2 = new Solution.V2();
        v1 = new Solution.V1();
    }

    @ParameterizedTest
    @MethodSource("testSource")
    void testV2(int[] nums, int expected) {
        assertThat(v2.triangleNumber(nums)).isEqualTo(expected);
    }

    @ParameterizedTest
    @MethodSource("testSource")
    void testV1(int[] nums, int expected) {
        assertThat(v1.triangleNumber(nums)).isEqualTo(expected);
    }

    static Stream<Arguments> testSource() {
        return Stream.of(
                Arguments.of(new int[]{2, 2, 3, 4}, 3),
                Arguments.of(new int[]{4, 2, 3, 4}, 4),
                Arguments.of(
                        new int[]{10, 6, 6, 9, 5, 11, 6, 8, 5, 2, 1, 2, 11, 9, 8, 1, 4, 10, 5, 2, 6, 8, 11, 1, 11, 9, 6, 1, 10, 7, 2, 4, 0, 0, 11, 3, 7, 5, 6, 2, 5, 1, 4, 6, 6, 11, 8, 10, 10, 9, 8, 9, 2, 6, 10, 9, 2, 5, 1, 1, 1, 11, 6, 8, 6, 8, 1, 7, 10, 7, 8, 6, 0, 10, 9, 8, 8, 7, 7, 9, 0, 2, 5, 4, 6, 9, 3, 9, 7, 9, 10, 1, 5, 5, 3, 0, 5, 2, 0, 9},
                        72504
                ),
                Arguments.of(
                        new int[]{100, 22, 333, 173, 908, 516, 693, 113, 240, 182, 232, 640, 337, 903, 502, 70, 119, 69, 346, 318, 266, 662, 72, 474, 399, 351, 859, 902, 483, 845, 285, 53, 539, 584, 566, 463, 462, 18, 209, 322, 797, 946, 664, 297, 398, 95, 20, 511, 344, 387, 970, 990, 939, 671, 732, 175, 357, 509, 457, 224, 484, 394, 310, 8, 55, 461, 301, 409, 804, 419, 785, 752, 732, 888, 545, 147, 417, 407, 261, 663, 131, 588, 72, 783, 351, 506, 168, 113, 942, 798, 379, 997, 159, 778, 874, 967, 435, 244, 449, 955, 533, 473, 402, 731, 130, 765, 676, 941, 9, 494, 207, 985, 233, 983, 863, 482, 598, 383, 10, 279, 980, 270, 973, 575, 149, 219, 58, 928, 939, 427, 568, 946, 478, 712, 376, 82, 137, 631, 951, 280, 400, 606, 95, 243, 561, 318, 677, 816, 259, 762, 299, 819, 77, 479, 601, 130, 499, 636, 570, 425, 801, 940, 152, 609, 607, 684, 12, 321, 877, 906, 222, 653, 41, 261, 423, 787, 245, 501, 843, 983, 509, 906, 435, 46, 676, 818, 789, 701, 426, 234, 333, 274, 287, 342, 716, 254, 79, 340, 828, 977, 93, 292, 33, 690, 52, 20, 184, 240, 228, 327, 197, 549, 994, 181, 713, 172, 740, 622, 247, 683, 963, 214, 519, 144, 970, 136, 133, 891, 901, 357, 777, 520, 771, 757, 294, 650, 251, 459, 497, 449, 374, 646, 629, 683, 981, 84, 557, 236, 565, 126, 785, 130, 512, 400, 198, 359, 60, 626, 564, 247, 42, 563, 39, 727, 177, 378, 956, 122, 578, 309, 5, 10, 883, 319, 235, 331, 740, 681, 431, 441, 959, 245, 555, 385, 863, 672, 180, 683, 58, 765, 463, 379, 988, 323, 827, 216, 456, 129, 28, 747, 842, 90, 342, 239, 14, 425, 8, 916, 488, 677, 359, 845, 893, 684, 829, 192, 594, 408, 147, 427, 666, 861, 578, 367, 978, 539, 292, 753, 117, 756, 823, 150, 805, 661, 603, 408, 463, 682, 44, 580, 763, 938, 461, 735, 64, 547, 519, 208, 405, 637, 372, 503, 675, 954, 257, 352, 84, 538, 351, 948, 348, 890, 696, 739, 547, 243, 475, 439, 920, 22, 356, 187, 444, 198, 704, 619, 439, 952, 606, 38, 963, 439, 839, 533, 403, 225, 263, 738, 792, 572, 464, 801, 6, 102, 227, 584, 843, 492, 844, 276, 755, 811, 7, 658, 736, 205, 184, 692, 18, 285, 192, 453, 388, 202, 589, 825, 898, 660, 469, 363, 728, 760, 484, 771, 860, 536, 755, 457, 874, 167, 431, 288, 884, 830, 154, 496, 322, 966, 105, 875, 590, 728, 912, 474, 932, 840, 204, 112, 401, 947, 947, 531, 710, 187, 470, 442, 630, 247, 369, 60, 603, 714, 757, 617, 952, 776, 214, 56, 770, 655, 370, 457, 901, 150, 356, 215, 732, 538, 362, 786, 33, 978, 261, 639, 376, 919, 49, 407, 520, 280, 49, 288, 238, 410, 210, 130, 625, 590, 399, 682, 26, 681, 64, 954, 695, 916, 659, 744, 626, 910, 86, 518, 898, 934, 184, 461, 717, 91, 970, 862, 171, 888, 447, 109, 933, 660, 458, 818, 791, 894, 604, 993, 401, 294, 464, 423, 926, 831, 9, 524, 862, 285, 332, 953, 117, 250, 18, 142, 962, 305, 887, 862, 140, 998, 42, 412, 820, 412, 366, 741, 602, 317, 674, 686, 533, 915, 257, 368, 160, 785, 507, 291, 274, 514, 971, 100, 28, 295, 563, 614, 6, 277, 918, 191, 338, 516, 963, 988, 989, 334, 857, 14, 212, 949, 272, 73, 64, 208, 687, 501, 751, 522, 56, 311, 214, 302, 100, 394, 324, 660, 881, 998, 415, 332, 907, 351, 119, 130, 201, 925, 483, 987, 927, 477, 903, 615, 759, 262, 228, 824, 82, 458, 267, 29, 49, 452, 308, 584, 786, 538, 278, 522, 563, 634, 46, 108, 265, 886, 128, 302, 981, 1, 633, 513, 979, 244, 678, 449, 665, 964, 228, 448, 938, 177, 964, 87, 412, 218, 309, 741, 194, 208, 741, 259, 115, 232, 643, 662, 992, 572, 819, 754, 69, 514, 240, 155, 206, 840, 873, 767, 167, 803, 213, 391, 561, 28, 515, 274, 504, 790, 101, 96, 346, 914, 294, 473, 153, 947, 681, 618, 263, 793, 908, 438, 666, 401, 49, 854, 822, 202, 856, 399, 805, 394, 19, 284, 356, 952, 346, 488, 326, 698, 966, 547, 451, 631, 263, 407, 619, 974, 129, 113, 305, 970, 294, 658, 366, 415, 452, 721, 496, 304, 872, 110, 999, 791, 816, 615, 35, 216, 319, 880, 969, 604, 685, 190, 228, 16, 192, 263, 254, 126, 449, 403, 254, 613, 141, 639, 708, 643, 929, 623, 30, 498, 979, 558, 184, 293, 225, 386, 26, 103, 575, 968, 945, 797, 817, 525, 413, 388, 852, 398, 473, 717, 815, 926, 123, 35, 819, 313, 297, 341, 556, 344, 540, 168, 563, 229, 237, 882, 940, 52, 43, 395, 400, 987, 294, 565, 478, 42, 417, 371, 753, 781, 665, 130, 839, 535, 83, 861, 148, 647, 242, 648, 397, 7, 656, 118, 30, 511, 521, 574, 222, 308, 929, 898, 624, 358, 52, 542, 63, 574, 794, 629, 256, 462, 317, 780, 833, 85, 794, 638, 707, 491, 802, 817, 494, 353, 103, 0, 927, 122, 961, 127, 361, 296, 423, 84, 554, 519, 69, 471, 762, 712, 101, 24, 326, 169, 216, 984, 813, 938, 909, 70, 327, 359, 929, 680, 78, 63, 783, 885, 153, 851, 328, 285, 163, 134, 527, 367, 585, 37, 263, 21, 671, 53, 577, 462, 995, 183, 120, 654, 182, 951, 372, 608, 558, 140, 750, 56, 653, 256, 558, 620, 583, 374, 779, 959, 98, 402, 514, 355, 300, 415, 998, 820, 147, 224, 355, 135, 27, 866, 698, 591, 7, 203, 64, 281, 331, 447, 627, 840, 226, 829, 2, 151, 714, 830, 161, 762, 605, 126, 290, 325, 482, 242, 869, 948, 942, 160, 145, 362, 155, 142, 286, 382, 478, 225, 311, 920},
                        77576605
                )
        );
    }

}
